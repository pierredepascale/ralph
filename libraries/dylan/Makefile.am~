nodist_pkglib_DATA = dylan-lib.dbc

EXTRA_DIST = exports.dylan misc.dylan cmp.dylan coll.dylan array.dylan vec.dylan string.dylan list.dylan deque.dylan range.dylan stretchy.dylan ext.dylan table.dylan sort.dylan cond.dylan num.dylan ratio.dylan char.dylan func.dylan debug.dylan exit.dylan multilock.dylan semaphore.dylan extern.dylan system.dylan

DYLAN_OBJS = exports.dbc misc.dbc cmp.dbc coll.dbc array.dbc vec.dbc string.dbc list.dbc deque.dbc range.dbc stretchy.dbc ext.dbc table.dbc sort.dbc cond.dbc num.dbc ratio.dbc char.dbc func.dbc debug.dbc exit.dbc multilock.dbc semaphore.dbc extern.dbc system.dbc

MC = ../../src/compiler/mindyc

all: $(nodist_pkglib_DATA)

.dylan.dbc:
	$(MC) -ldylan -o $@ $<

dylan-lib.dbc: $(DYLAN_OBJS)
	cat $(DYLAN_OBJS) > $@

CLEANFILES=$(nodist_pkglib_DATA) $(DYLAN_OBJS)
